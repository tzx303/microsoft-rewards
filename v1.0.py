import requests
import random
import time
from lxml import etree




def random_str(length):
    # 生成随机字符串
    str = ''
    chars = 'AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz0123456789!@#$%^&*(){}[]:'
    length = length - 1
    for i in range(length):
        str += chars[random.randint(0, length)]
    return str


# 打印随机字符串
url = "https://www.bing.com/search?q="
headers = {
    'cookie': 'MUID=035054D26EEA663138CF466F6AEA602A; MSCC=cid=t7pb6moz15syrs0qdzscrsgv-c1=2-c2=2-c3=2; MUIDB=035054D26EEA663138CF466F6AEA602A; SRCHD=AF=NOFORM; SRCHUID=V=2&GUID=E9514AE7A45C4A8E8FB0FE51BC70228A&dmnchg=1; NAP=V=1.9&E=1ba7&C=g3nDTwDY8Q7EbQX8KH6FgryuhQTHu5kfqk0ZL1UYAA0MNo8gk6Sj6Q&W=1; _UR=QS=0&TQS=0; MicrosoftApplicationsTelemetryDeviceId=1f9c1fac-d5ea-47b5-9783-c9640f06190a; ZHCHATSTRONGATTRACT=TRUE; ANIMIA=FRE=1; SNRHOP=I=&TS=; ZHCHATWEAKATTRACT=TRUE; _clck=1l0bhrf|1|f9e|1; MMCASM=ID=7DABFB74C07743EA8640A6BE0CD3633A; ABDEF=V=13&ABDV=11&MRNB=1677227591901&MRB=0; BFB=AhBVP2Sq8XUO_ZO_mOYB1X8v-ObqJr_amhKs4Q05p3SytYEqPrGcTwx09vUK5GWzz9kSk72XEtcpTFteM20Sbdku87kHLjqezrhbe8SKjmPqSdY-NeLMQrt1YVdjJsyvCAMyN9yEZOY2VCQYEsQpI5-spP5oUTWnpnW4-UGP9aH2tw; OIDR=ghAVo2wnE4GkAGtTT1B-q3vz_CleAOI5qegO-QeNKR6zaX4fg5D51FU9FA55LcZFZo1oPYz5jI2ufcNAkDzOSp7Sbzcbl2szBvsh0kg7OxWnIArcf0yLhb758koRk4zbLAgpMWnVVfr9JfzIJ-wxa_POt3jlVdS1hxNF_o0lX8o1kw8AqSCJiCYamgXQS3j-6pqn9353ookuLqKgFyhuwwaId-mo6hJ96MBlIGqy4HGlXTLd3twLIuS5Vn1AYWRa55FMJ5fwKXbA_HoN9-WSGCAYVVO-xn8z-M-PLDdAhrwkyZHvMauMm9rzSM6jkTDgNdu0ZzxBkydDzRTyL6htcq4jp6QGbzhOGNF33KBlwCF2BTJidaYQrBOZmlKCOZojeEhocC-nMCpy2NA5QQ6Qy8314x_5sd01A8T8i7fFlVhi3PbU5EjfX2Qm0EpYOevUKcHCQF4BhcBZwO6EZAaUPL7vdDJZXpb8JFP86tPceK5zhRgWaZytVb18j8h1uk-Aaov7J4IYEt511-bqLB6mBiqwEmzmJGdY475Sn2P6AA0NSn8Ug_U9rZdPQNNegtc5NQlXkQkYIhYvZ_o-7vEpYdO30z2s_FdEF1aPnprRfpMltSP_1upcN5o-Nn6W-nbAqw9csIy3a5Z3C_1Ujz3zh1dkJWddpveUmFlUpo4m0SE9Epkg31RO3jzMT4y-DWjer0P1FExnhKa8LA-HI25LGN7L8qvotFCRU2AOS4uPexW8fgeS7egLNFfgdiszVFyJhm_4xgZB1aAUmk822jeE5P6jvpBQyS3Ozu9tTp8p3eZntd_y7pk4yJrOREChrB7ZHzNR420mHyhkcVJixKjeYg9AS4AjvcgYtn3vzSV_ZGeZh0vJL_jt3f4BQYcx3SlT5B6v6Y4GK7lRGnU2sLuSUgN9eynP4xwRph-YEw4aQK-7jfDJnXvM4tN3IeJe8Tdmab-P1u4eC0sho-djJVvlYv2YlM1BsTlMZOhUKOZWxhmww0fdBMlAqE0JLwPV4tRxk-XB_BTQgg8UuLkD-8BuvvMcf_jTsF6e4e9UTE-GXG5VipAWpQG8Zjzy6ngRC4YhNWo; ACL=AhAyBEIkLyjpItzz83e3YEiLxmpTITXH8JBp7U8jTpnIEBtDkSayB6EO3n38OCbsTUTfKgth_UAfJwg710UFSuLB; ACLUSR=T=1677227788000; CSRFCookie=d5e5d34e-eda6-4639-aaab-6e69ab92c04f; SRCHUSR=DOB=20230219&T=1676803986000&TPC=1677225240000&POEX=W; ANON=A=ABE3FA32E2805DC26D5301AAFFFFFFFF&E=1c01&W=1; PPLState=1; KievRPSSecAuth=FABqBBRaTOJILtFsMkpLVWSG6AN6C/svRwNmAAAEgAAACCS7ElwFl+KbKARI5tzRAXbSUXfNt3gcE6S9LX9t62Z6u00EXGWwfPY+NyNgA6nnFYg6Im9PVHrnwoYSKXP0PVTOy5yNe2s4sdZzn6ur9NQ+g9VIZEG4xcMSF4Jo98zIUhI5O+P4ilb3oi8OJw1jdep4EcSMVxlbI6zJHfSNAPp/92S/bAV7IjMPEAIDQOztbFzVJ9zxTTRnEWJibjGbl3Ye5Lp/z2FfCyyLs07DYEcFPK37tqKhbm0DyZkOL92iL3xLF8IUj1btcfF38HlnVeKVxGTt05y6HMiVQ2K4DXD3S3XuGHUNGIWgHFDeStNAwdZLYgtcvgeLeQi3HgogIUi3Pk5OHH5vhmJ1UL0OU8K0ghADlu7p3rUH5GWuJM0To0WwRlaHh51MhpB8Zv/voDSyZ9sud4+nsL0yrv7JNLKfgS7YJgq7ZwAqvhw1tYyrKOYWU8j1DsTZdWQ47eHDrX4p21NF0Af52Pr+Ks4hBaKa2LcoScvaySqcPT/aqs6DxCyVwn/hFxMU1dhXRN21OFPCu5BV0dbq1v87M+nD9N42f4IPRDVrYeOOJBgp18NoBM1KqJGoF4mFsMfS+oKzDcHaysIbhX5seNTC5wpipXH6VuiibG5YY1hRolmrBGCt9SCq9K66zLWcdtc9IXIgqWRTbhvuTZ6rtkwE9LMz0+TbRib9cLYYoVMBH+/19wAA2hru7IJWOqYdzLMjcVdi40T4mMgqz+suFEMI/oD+KJYSLTTHNhX/IGkJWzJkBawrqPtRRrR1YnBUWkIGOt0tDM4d896VrNM24WI6x36r1NS4+sMhnIJoUvz+68/3KqkhMgO3z7KLvfdTTIauOBnjhTMtzUCg96vnqcgkafywXGPsrXwUWi5mdXohTSfRjcWLayydaMT9y97/3j4O0NuyWkWgIvsPmlYgjIiRadEYIcH70V4y6dLcZqbZ/Ft1rVLcNvQr4e4FkJZmKS/K90pY17s4ijpbxsTzjsTPCsMrXis6F0UeBxWduHmQVWba6nMbLz/3fC74ooitgEKwcsMV5sGt4FXmefPm9zEoVnyOx8SEWCjIY5wpIw6ja5IPmco4j0H3jY6eG1FOUSZZabp+5QS15JNCYTInpP57wRzP8F9JEiVkVjEKisveRVe6BvL5xOvldJ0fA8btsnDG3OXBkbbY2XVqb7jG+kGZwsrENX9g5ajLGsfJx2vflztkdStTpJKbnuWWU4lampd2NczQQiDJB/MPtGiRpkJjJlps1Yfk9YNlnWCz8KXH/bDKjK2iIbRi9OIVo2g2znvwZG3v2cO53aPp42lM7I5CEhDKui9nFGUpLn4NXldhsU/7wQJjv+pLrqUYzFZy3ybv6I6GbDrubZXvpCoNkWPEEjVERNZHcoeFzpoOQdrtFb0Sj+fyFB5Lijm/0NCuQAo191wVyKJSWRQAAwwuwv0DxEFL81bFE5PffAqZoGs=; _U=1U92mJ1OrKr9lrGp3KwtEZzKKMd2l8d4-kF5nFjzkyvRzXi3sbTPY_MvwD38ZQmHiph1f1jy8NbZ89D7E2kv1ACBTYPeqRknv9X55fNX-KDQLF36--wIlIxpXk3vXw9DzI4aAcQWp97Boc9X4uVW-oUj2Eko4TK6ijQ6SesgBEjDRYS7xCa92LthQ2-NOZMPwwHfuZ8I8lkSvwLD74kdRCw; WLS=C=fda18e21fb883bb5&N=tzx; WLID=5jVZfeI/PfBgmLL2uTboMSMjcPEOoS4yFbzOWdS3hT3+08bODvwU8bJn73ssKu8MOUg1beEELu9S2OSzL41c+t67geGjiEJdkXoX+ifLVI8=; SUID=A; SnrOvr=X=rebateson; MSFPC=GUID=556880957d444424b4a35c4f394884b9&HASH=5568&LV=202302&V=4&LU=1676771420108; BFBUSR=BAWAS=1&BAWFS=1; ipv6=hit=1677232411284&t=4; _EDGE_S=SID=22F52B7EF4D969F9353D39BCF54B68CF&mkt=zh-cn; _uetsid=acfc0460b41811ed91d9b53384515fb6; _uetvid=a45b3f60b04311ed8f2c3f0974c2a6ee; _SS=SID=0D2BF664A2906B15245EE4D9A3FA6A08&R=1073&RB=577&GB=496&RG=1600&RP=1073&OCID=ML20R8&BTQID=-&BTSTKey=-&RA=-&BTOID=-&BTQN=-&BTEC=-&BTMC=-&BTCQC=-&BTIOM=-&BTCO=-&BTRACI=-&BTTC=-; _HPVN=CS=eyJQbiI6eyJDbiI6MiwiU3QiOjAsIlFzIjowLCJQcm9kIjoiUCJ9LCJTYyI6eyJDbiI6MiwiU3QiOjAsIlFzIjowLCJQcm9kIjoiSCJ9LCJReiI6eyJDbiI6MiwiU3QiOjAsIlFzIjowLCJQcm9kIjoiVCJ9LCJBcCI6dHJ1ZSwiTXV0ZSI6dHJ1ZSwiTGFkIjoiMjAyMy0wMi0yNFQwMDowMDowMFoiLCJJb3RkIjowLCJHd2IiOjAsIkRmdCI6bnVsbCwiTXZzIjowLCJGbHQiOjAsIkltcCI6MjZ9; ai_session=2BItPNTYR73P4sKGPLr0oI|1677228056767|1677230677301; _clsk=1frg0cx|1677230704620|10|0|q.clarity.ms/collect; OID=AhBQN_olp5jqcodMBzEoce9gVSW6ZNyzU9q4qH0HaU9wbAHtN0LvhGejFujRRcewWlDa_Wz47p4M9XqEsNFjof98KywvmH30BrgiKYSOua__YM09QnftsvFBX19WbT1LC40; OIDI=ghDNkB_xMKNVGqzxVAq7HSxFXggHIuN879tR5kRnwCY-Sy7UKnVCxQxu7bjYzhEoe_Fa6gZNGMVjxNaGv0JNrN86B2N0kVVtZbak9auMi6XY1__-nPwZ_wLyldCo83QLsSycLG2ON9un21vC0Y-Uffwjaa9c8zYUxAz-mJzF8KqDAq3pDNmI4TKAzi4J_IyOrHT06_hxRDUxLo6V-bBoIMLMf_lThi0FxKje8jmmapFO9oFT1H1fDcPfXqwWDaHuFbQhOY3QxF1rDa19Y640b0JcVhtCuCH02Lb1iFXi3--ATatKpPqZu8pF-VRBCxb7krERJ-n8_4lCrzT_pYz9u0bT5hFbso7cFg4pSXMFfanyW1LTMAZ22Y-Ca-pNkrUSV2Ml19BnA_l9u1HsNkboVT1x5PORQstXk-QlklJSHNAY4cYp0knE9T16P6_uVvhJPaUsF80liFx9rbFoLjZZ1DfeCQ5kVkJpytc9TwSvSbbIWmVbJPuzgy5EzYTxdkxNAMkQFpV8zLIkE3I4aYAtJ1eHrY3jABITOEznRzGMdSco27HtdXeo-OeZHLMb8xwcSCUN3LiywDpOs9iJdEQ-ro7hZR2UfHU1LYSdECNICfJPZzd5jJpEgeASa2u3pawo15tL0xbK-1AUHUblS1-X7l4Q21thD2gIRUqfdNirg6alUlV9tQFzsG7s6oOeK8bK6LbGmsfFZI9v-LoP6J2x4BoyuHdR4yNYOENPvNo3XKkC3d5NCFvAxtlth7LPVcMz_vNxyZ8GDb3uQ_uPATTOYIKQL4ZYPvWQ-IMCs34mPAJoqNiyoXdrhV9OnC-hykj5axUnHzbed_v5WHwjut73dk5bontqzYaGTxqMjNU_xMxUIMxvi9f0JuChVEAK7kNP_HkUfOwnNH7VjzEd6bShW6yMoPTlNTMx8oYk3eQVgkPDIFb7-8oDqBieyKs58uPt_OEni8CDEBDWnfFbNZWuWqlzGuZxpXdTnvAxU47xK47RhHCkpcH_kaR4T0rdi17QPEilk7C4PoRvz1Gg6Ul2ZTUQyTgt7JIM3Luy88Bs72uGkXEUVDs-BN0RPWKS9HSWbKRc29mHYX2z9Ijt5vcBO69TMrQc4k6FK2WWLHsQVsRhVk1_zX3eRqF0yrKhg_VUOhhLeHaiEtCifFsO1JwAjWf26MMV14eR_2WI9ceR-4YQg6cPHWVng-uIxJ5ggDCzHvwmRHnw9E4i7PRD_Zf-rbXUpxEIiYsKP8V4jDZob5r2J374gsHOdVliaTHhopoStBHTV-QYjns5AcvSda8RnNp8tBYosiUSxC2IhY5tlUvDyX8Lycx5V5tb9vbIfAR5bbdHyqODicxO1BRDUvtfNP1IBluvwXFlzsYr3t2F6ZHu6YgjjLpg7dV4HUPco9duOSyYasux0QGi5xMS8PvMM1QQpGCUygosjaJF9sZyjFnWOI51ztO8NKUjJn06AKGxdgyi3vI5wUqtwN4uNDD3EnoszWCxYaW7XbUlB8Jp7WAe1j_fAGztZIjq_vkoudTXqeC3a5uH9IeHucMabpx1KyowlZp1177rkQ_YG-GF_-SeZ3FQFnzWP_Muu7jfnEJRPlePgvXe_Og1bUoe7oHwAqtEi4VEwWxHUmJOLKmrd1oWvBrVtzWgRZzDqVQXXx28S9ZzePoc7FMomXnqBbv1tnF8q4IYKvXhLD_ALdbxaN9TVcwuSHj3mq8ECX9uiTjGP5QAx-O4-tAg5Cj0N-QI9hiqMGEeOPZEUhVwLffgeGoy_8xPUByWCKQAt9nMlquYKwOvdInddckmnQ4CLDjI7lH2oZ8LRJVLf9C-4-fDoe4QtvjL5Id5S7YVgCiDkoLmwM20jHHx7ttwaNFSAkN5Tqo2Oy2r5StfKJNIBbHj9IgPfUMBdKqveXECorYNUgE1ejOsrjFpj_7X5kWy2HcyK0kIxMcHezVuabenUDsEyi0gWZ-EaCSg8M6_q_TvhBkKCqpR7FsAGvupIsAbBba2-VllAmXCKuOg1V6P9gKYxEA0rl_4lbQ0AUPk773lS5isJqn3XJLgb5kSe8io01dqIMg6; _RwBf=ilt=4&ihpd=0&ispd=0&rc=1073&rb=577&gb=496&rg=1600&pc=1073&mtu=0&rbb=0.0&g=0&cid=840-520889518&clo=0&v=63&l=2023-02-24T08:00:00.0000000Z&lft=0001-01-01T00:00:00.0000000&aof=0&o=16&p=WINDOWSBARACQ201902&c=M5001O&t=361&s=2023-02-19T10:50:51.6781062+00:00&ts=2023-02-24T09:34:32.2137231+00:00&rwred=0&wls=0&lka=0&lkt=1&TH=&r=1&mta=0&e=61mtn1rOEeGwi-9JVrI6HsZP5uWc5M5v2AYkPIQBra5ZP70EUkj0TsVJWWrcJM4CCB-JS_brbr13O8oY8m6M4b-vqJOc5fwkEIvQwaxqVE0&A=ABE3FA32E2805DC26D5301AAFFFFFFFF&cname=SPECIAL+OLYMPICS+INC; SRCHHPGUSR=SRCHLANG=zh-Hans&PV=15.0.0&WTS=63812400786&BRW=W&BRH=S&CW=1440&CH=280&SCW=1423&SCH=1950&DPR=1.5&UTC=480&DM=0&HV=1677231272&PRVCW=1440&PRVCH=809&BZA=0',
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36'
}


next_arg = ''
while True:
    req_url = url + random_str(random.randint(3, 16)) + '/'
    print(req_url)
    req = requests.get(url=req_url, headers=headers).content.decode('utf-8')
    print(req)
    doc = etree.HTML(req)
    score = doc.xpath('//span[@id="id_rc"]/text()')
    if next_arg == score:
        break
    print("目前分数：", score[0])
    next_arg = score
    time.sleep(random.uniform(3, 15))
